<div class="d-flex justify-content-center align-items-center min-vh-100 p-3">
    <div class="rounded-4 shadow" style="background-color: rgba(195, 242, 191, 0.188); width: 100%; max-width: 800px;">
        <div class="header p-5 pb-4 border-bottom-0">
            <h1 class="text-center fw-bold">Ajouter Sanction</h1>
        </div>

        <div class="p-5 pt-0">
            <form #ajouterSanction (ngSubmit)="Ajouter()">
                <div class="row">
                    <div class="col-md-12 mb-3">
                        <label for="raison" class="w-100 form-label font-bold mb-2">Raison *</label>
                        <p-multiSelect id="raison" class="w-100" [options]="selectRaison" [(ngModel)]="Sanction.raison"
                            name="raison" optionLabel="label" optionValue="value" placeholder="Select raisons"
                            #raison="ngModel">
                            <div *ngIf="raison.invalid && raison.touched" class="text-danger small mt-1">
                                Raison est obligatoire
                            </div>
                        </p-multiSelect>
                    </div>
                </div>
                <div class="row">
                    <!-- Left Column -->
                    <div class="col-6 mb-3">
                        <label for="dateFin" class="form-label font-bold mb-2 w-100">Date Fin *</label>
                        <p-datepicker id="dateFin" [minDate]="minDate" class="w-100"
                            [(ngModel)]="Sanction.date_fin_sanction" name="dateFin" dateFormat="dd/mm/yy"
                            showIcon="true" #datefin="ngModel" />
                        <div *ngIf="datefin.invalid && datefin.touched" class="text-danger small mt-1">
                            Date Fin est obligatoire
                        </div>
                    </div>
                    <!-- Left Column -->
                    <div class="col-6 mb-3">
                        <label for="montant" class="form-label font-bold mb-2 w-100"> Montant </label>
                        <p-inputnumber [(ngModel)]="Sanction.montant" class="w-100" name="monatnt" id="montant"
                            [showButtons]="true" buttonLayout="horizontal" inputId="horizontal" spinnerMode="horizontal"
                            [step]="0.05" mode="currency" currency="TND">
                            <ng-template #incrementbuttonicon>
                                <span class="pi pi-plus"></span>
                            </ng-template>
                            <ng-template #decrementbuttonicon let-disabled="disabled">
                                <button type="button" [disabled]="Sanction.montant <= 0" pButton icon="pi pi-minus"
                                    class="p-button-text p-button-plain">
                                </button>
                            </ng-template>
                        </p-inputnumber>
                    </div>
                </div>

                <!-- Description textarea alone -->
                <div class="row">
                    <div class="col-12">
                        <div class="mb-3">
                            <label class="form-label font-bold mb-2" for="description">Description </label>
                            <span class="w-100">
                                <textarea pInputTextarea id="description" name="description"
                                    [(ngModel)]="Sanction.description" rows="3" class="w-100"
                                    placeholder="Enter description" [required]="isAutreSelected()"
                                    #description="ngModel"></textarea>
                                <div *ngIf="isAutreSelected() && description.invalid && description.touched"
                                    class="text-danger small mt-1">
                                    Description est obligatoire si raison est « autre »
                                </div>

                            </span>
                        </div>
                    </div>
                </div>

                <div class="d-flex justify-content-between mt-4">
                    <button pButton type="button" label="Annuler" icon="pi pi-times" styleClass="p-button-secondary"
                        [raised]="true" routerLink="/bibliothecaire/emprunts"></button>
                    <button pButton label="Enregistrer" icon="pi pi-check" styleClass="p-button-success" [raised]="true"
                        type="submit"></button>
                </div>
            </form>

        </div>
    </div>
</div>