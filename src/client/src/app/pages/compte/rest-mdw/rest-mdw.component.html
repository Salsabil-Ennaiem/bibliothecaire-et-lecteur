<div class="d-flex justify-content-center align-items-center min-vh-100 p-3">
  <div class="rounded-4 shadow" style="background-color: rgba(230, 198, 222, 0.188); width: 100%; max-width: 500px;z-index: 10;">
    <div class="header p-5 pb-4 border-bottom-0">
      <button pButton icon="pi pi-home" routerLink="/" type="button" [rounded]="true" [text]="true" [raised]="true"
        size="large"></button>
      <h1 class="text-center fw-bold">Réinitialisation du mot de passe</h1>
    </div>

    <div class="p-5 pt-0">
      <form #resetForm="ngForm" (ngSubmit)="onSubmit(resetForm)" novalidate>
        <div *ngIf="errorMessage" class="alert alert-danger text-center">{{ errorMessage }}</div>
        <div *ngIf="successMessage" class="alert alert-success text-center">{{ successMessage }}</div>

        <div class="mb-3">
          <label for="email" class="form-label">Adresse email</label>
          <input pInputText id="email" name="email" type="email" class="form-control" [(ngModel)]="model.email"
            readonly />
        </div>

        <div class="mb-3">
          <label for="newPassword" class="form-label">Nouveau mot de passe</label>
          <input pInputText id="newPassword" name="newPassword" type="password" class="form-control"
            [(ngModel)]="model.newPassword" required minlength="6" #newPwd="ngModel" />
          <div *ngIf="newPwd.invalid && (newPwd.dirty || newPwd.touched)" class="text-danger">
            <small *ngIf="newPwd.errors?.['required']">Le mot de passe est obligatoire.</small>
            <small *ngIf="newPwd.errors?.['minlength']">Le mot de passe doit contenir au moins 6 caractères.</small>
          </div>
        </div>

        <div class="mb-3">
          <label for="confirmPassword" class="form-label">Confirmer le mot de passe</label>
          <input pInputText id="confirmPassword" name="confirmPassword" type="password" class="form-control"
            [(ngModel)]="confirmPassword" required #confirmPwd="ngModel" />
          <div *ngIf="submitted && (confirmPassword !== model.newPassword)" class="text-danger">
            <small>Les mots de passe ne correspondent pas.</small>
          </div>
        </div>

        <button pButton type="submit" label="Réinitialiser" class="w-100"
          [disabled]="resetForm.invalid " [raised]="true"></button>
      </form>
    </div>
  </div>
</div>